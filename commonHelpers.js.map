{"version":3,"file":"commonHelpers.js","sources":["../src/JS/pixabay-api.js","../src/JS/render-functions.js","../src/main.js"],"sourcesContent":["// import axios from 'axios';\nconst ENDPOINT = 'https://pixabay.com/api/';\nconst KEY = '33796051-1e422d07d8c9fc912bc2a7eb4';\nconst param =\n  'per_page=18&image_type=photo&orientation=horyzontal&safesearch=true';\n\n\nexport default function ImageApiService(search) {\n  const URL = `${ENDPOINT}?key=${KEY}&q=${search}&${param}`;\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function createMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<div class=\"photo-card\">\n  <a class = \"gallery__link\" href=\"${largeImageURL}\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b>\n      ${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>\n      ${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>\n      ${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>\n      ${downloads}\n    </p>\n  </div>\n  </a>\n</div>`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport ImageApiService from './JS/pixabay-api.js';\nimport createMarkup from './JS/render-functions.js';\n\n\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n\nform.addEventListener('submit', onSubmit);\n\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  loader.classList.remove('is-hidden');\n  let inputValue = '';\n  const form = event.target;\n  console.log(form)\n  inputValue = form.elements.searchQuery.value.trim();\n  if (inputValue === '') {\n    loader.classList.add('is-hidden');\n    iziToast.info({\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      messageColor: '#FFFFFF',\n      maxWidth: '432px',\n      backgroundColor: 'red',\n      position: 'topRight',\n      titleSize: '24px',\n      message: 'Please formulate a request',\n    });\n    return;\n  }\n  ImageApiService(inputValue)\n    .then(elem => fetchHits(elem))\n    .catch(err => onError(err))\n    .finally(() => {\n      form.reset()\n      loader.classList.add('is-hidden');\n    });\n  clearList();\n}\n\nfunction fetchHits(elem) {\n\n    const hits = elem.hits;\n  if (hits.length === 0) {\n    loader.classList.add('is-hidden');\n      iziToast.info({\n        messageSize: '16px',\n        messageLineHeight: '24px',\n        messageColor: '#FFFFFF',\n        maxWidth: '432px',\n        backgroundColor: 'red',\n        position: 'topRight',\n        titleSize: '24px',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return\n    } else {\n        const markup = hits.reduce(\n        (markup, hit) => createMarkup(hit) + markup,\n        ''\n      );\n      appendToList(markup);\n    }\n}\n\nfunction appendToList(markup) {\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction clearList() {\n  gallery.innerHTML = '';\n}\n\nfunction onError(err) {\n  loader.classList.add('is-hidden');\n  console.error(err);\n}\n\nconst lightbox = new SimpleLightbox('.gallery a');"],"names":["ENDPOINT","KEY","param","ImageApiService","search","URL","response","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","onSubmit","event","inputValue","iziToast","elem","fetchHits","err","onError","clearList","hits","markup","hit","appendToList","lightbox","SimpleLightbox"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAM,qCACNC,EACJ,sEAGa,SAASC,EAAgBC,EAAQ,CAC9C,MAAMC,EAAM,GAAGL,CAAQ,QAAQC,CAAG,MAAMG,CAAM,IAAIF,CAAK,GACvD,OAAO,MAAMG,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfe,SAASC,EAAa,CACnC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,qCAC4BL,CAAa;AAAA,cACpCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,QAIhCC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,QAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAKjB,CCvBA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAG/CF,EAAK,iBAAiB,SAAUG,CAAQ,EAGxC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBF,EAAO,UAAU,OAAO,WAAW,EACnC,IAAIG,EAAa,GACjB,MAAML,EAAOI,EAAM,OAGnB,GAFA,QAAQ,IAAIJ,CAAI,EAChBK,EAAaL,EAAK,SAAS,YAAY,MAAM,KAAI,EAC7CK,IAAe,GAAI,CACrBH,EAAO,UAAU,IAAI,WAAW,EAChCI,EAAS,KAAK,CACZ,YAAa,OACb,kBAAmB,OACnB,aAAc,UACd,SAAU,QACV,gBAAiB,MACjB,SAAU,WACV,UAAW,OACX,QAAS,4BACf,CAAK,EACD,MACD,CACDlB,EAAgBiB,CAAU,EACvB,KAAKE,GAAQC,EAAUD,CAAI,CAAC,EAC5B,MAAME,GAAOC,EAAQD,CAAG,CAAC,EACzB,QAAQ,IAAM,CACbT,EAAK,MAAO,EACZE,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,EACHS,GACF,CAEA,SAASH,EAAUD,EAAM,CAErB,MAAMK,EAAOL,EAAK,KACpB,GAAIK,EAAK,SAAW,EAAG,CACrBV,EAAO,UAAU,IAAI,WAAW,EAC9BI,EAAS,KAAK,CACZ,YAAa,OACb,kBAAmB,OACnB,aAAc,UACd,SAAU,QACV,gBAAiB,MACjB,SAAU,WACV,UAAW,OACX,QACE,0EACV,CAAO,EACD,MACN,KAAW,CACH,MAAMO,EAASD,EAAK,OACpB,CAACC,EAAQC,IAAQtB,EAAasB,CAAG,EAAID,EACrC,EACR,EACME,EAAaF,CAAM,CACpB,CACL,CAEA,SAASE,EAAaF,EAAQ,CAC5BZ,EAAQ,mBAAmB,YAAaY,CAAM,EAC9CG,EAAS,QAAO,CAClB,CAEA,SAASL,GAAY,CACnBV,EAAQ,UAAY,EACtB,CAEA,SAASS,EAAQD,EAAK,CACpBP,EAAO,UAAU,IAAI,WAAW,EAChC,QAAQ,MAAMO,CAAG,CACnB,CAEA,MAAMO,EAAW,IAAIC,EAAe,YAAY"}